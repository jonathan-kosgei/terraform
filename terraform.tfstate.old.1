{
    "version": 1,
    "serial": 5,
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {},
            "resources": {
                "azure_hosted_service.sc-r2-ingress": {
                    "type": "azure_hosted_service",
                    "primary": {
                        "id": "sc-r2-ingress-0",
                        "attributes": {
                            "default_certificate_thumbprint": "",
                            "description": "Hosted service created by Terraform.",
                            "ephemeral_contents": "false",
                            "id": "sc-r2-ingress-0",
                            "label": "tf-hs-01",
                            "location": "East US",
                            "name": "sc-r2-ingress-0",
                            "reverse_dns_fqdn": "",
                            "status": "Created",
                            "url": "https://management.core.windows.net/4504998e-60a7-40f0-a0e0-d125d4208f7a/services/hostedservices/sc-r2-ingress-0"
                        }
                    }
                },
                "azure_hosted_service.sc-r2-masters": {
                    "type": "azure_hosted_service",
                    "primary": {
                        "id": "sc-r2-master-0",
                        "attributes": {
                            "default_certificate_thumbprint": "",
                            "description": "Hosted service created by Terraform.",
                            "ephemeral_contents": "false",
                            "id": "sc-r2-master-0",
                            "label": "tf-hs-01",
                            "location": "East US",
                            "name": "sc-r2-master-0",
                            "reverse_dns_fqdn": "",
                            "status": "Created",
                            "url": "https://management.core.windows.net/4504998e-60a7-40f0-a0e0-d125d4208f7a/services/hostedservices/sc-r2-master-0"
                        }
                    }
                },
                "azure_hosted_service.sc-r2-minions.0": {
                    "type": "azure_hosted_service",
                    "primary": {
                        "id": "sc-r2-minion-0",
                        "attributes": {
                            "default_certificate_thumbprint": "",
                            "description": "Hosted service created by Terraform.",
                            "ephemeral_contents": "false",
                            "id": "sc-r2-minion-0",
                            "label": "tf-hs-01",
                            "location": "East US",
                            "name": "sc-r2-minion-0",
                            "reverse_dns_fqdn": "",
                            "status": "Created",
                            "url": "https://management.core.windows.net/4504998e-60a7-40f0-a0e0-d125d4208f7a/services/hostedservices/sc-r2-minion-0"
                        }
                    }
                },
                "azure_hosted_service.sc-r2-minions.1": {
                    "type": "azure_hosted_service",
                    "primary": {
                        "id": "sc-r2-minion-1",
                        "attributes": {
                            "default_certificate_thumbprint": "",
                            "description": "Hosted service created by Terraform.",
                            "ephemeral_contents": "false",
                            "id": "sc-r2-minion-1",
                            "label": "tf-hs-01",
                            "location": "East US",
                            "name": "sc-r2-minion-1",
                            "reverse_dns_fqdn": "",
                            "status": "Created",
                            "url": "https://management.core.windows.net/4504998e-60a7-40f0-a0e0-d125d4208f7a/services/hostedservices/sc-r2-minion-1"
                        }
                    }
                },
                "azure_hosted_service.sc-r2-nat": {
                    "type": "azure_hosted_service",
                    "primary": {
                        "id": "sc-r2-nat",
                        "attributes": {
                            "default_certificate_thumbprint": "",
                            "description": "Hosted service created by Terraform.",
                            "ephemeral_contents": "false",
                            "id": "sc-r2-nat",
                            "label": "tf-hs-01",
                            "location": "East US",
                            "name": "sc-r2-nat",
                            "reverse_dns_fqdn": "",
                            "status": "Created",
                            "url": "https://management.core.windows.net/4504998e-60a7-40f0-a0e0-d125d4208f7a/services/hostedservices/sc-r2-nat"
                        }
                    }
                },
                "azure_hosted_service.sc-r2-nfs": {
                    "type": "azure_hosted_service",
                    "primary": {
                        "id": "sc-r2-nfs-0",
                        "attributes": {
                            "default_certificate_thumbprint": "",
                            "description": "Hosted service created by Terraform.",
                            "ephemeral_contents": "false",
                            "id": "sc-r2-nfs-0",
                            "label": "tf-hs-01",
                            "location": "East US",
                            "name": "sc-r2-nfs-0",
                            "reverse_dns_fqdn": "",
                            "status": "Created",
                            "url": "https://management.core.windows.net/4504998e-60a7-40f0-a0e0-d125d4208f7a/services/hostedservices/sc-r2-nfs-0"
                        }
                    }
                },
                "azure_instance.ingresscontroller": {
                    "type": "azure_instance",
                    "depends_on": [
                        "azure_storage_service.sc-r2-storage",
                        "azure_virtual_network.sc-r2-virtual-network"
                    ],
                    "primary": {
                        "id": "sc-r2-ingress-0",
                        "attributes": {
                            "automatic_updates": "false",
                            "endpoint.#": "3",
                            "endpoint.1730431642.name": "FLASK",
                            "endpoint.1730431642.private_port": "5000",
                            "endpoint.1730431642.protocol": "tcp",
                            "endpoint.1730431642.public_port": "5000",
                            "endpoint.1736569060.name": "HTTP",
                            "endpoint.1736569060.private_port": "80",
                            "endpoint.1736569060.protocol": "tcp",
                            "endpoint.1736569060.public_port": "80",
                            "endpoint.2462817782.name": "SSH",
                            "endpoint.2462817782.private_port": "22",
                            "endpoint.2462817782.protocol": "tcp",
                            "endpoint.2462817782.public_port": "22",
                            "hosted_service_name": "sc-r2-ingress-0",
                            "id": "sc-r2-ingress-0",
                            "image": "Ubuntu Server 16.04 LTS",
                            "ip_address": "172.1.3.4",
                            "location": "East US",
                            "name": "sc-r2-ingress-0",
                            "reverse_dns": "",
                            "security_group": "",
                            "size": "Basic_A1",
                            "ssh_key_thumbprint": "E219928EDDE748FAA2F86210ABD02B0C5D6D9E36",
                            "storage_service_name": "scazurestorage01",
                            "subnet": "nat",
                            "username": "jonathan",
                            "vip_address": "40.117.238.136",
                            "virtual_network": "sc-r2-virtual-network"
                        }
                    }
                },
                "azure_instance.kubemasters": {
                    "type": "azure_instance",
                    "depends_on": [
                        "azure_security_group.kubemaster",
                        "azure_storage_service.sc-r2-storage",
                        "azure_virtual_network.sc-r2-virtual-network"
                    ],
                    "primary": {
                        "id": "sc-r2-master-0",
                        "attributes": {
                            "automatic_updates": "false",
                            "endpoint.#": "2",
                            "endpoint.1444030308.name": "Kube Apiserver",
                            "endpoint.1444030308.private_port": "8080",
                            "endpoint.1444030308.protocol": "tcp",
                            "endpoint.1444030308.public_port": "8080",
                            "endpoint.2462817782.name": "SSH",
                            "endpoint.2462817782.private_port": "22",
                            "endpoint.2462817782.protocol": "tcp",
                            "endpoint.2462817782.public_port": "22",
                            "hosted_service_name": "sc-r2-master-0",
                            "id": "sc-r2-master-0",
                            "image": "Ubuntu Server 16.04 LTS",
                            "ip_address": "172.1.1.4",
                            "location": "East US",
                            "name": "sc-r2-master-0",
                            "reverse_dns": "",
                            "security_group": "kubemaster",
                            "size": "Basic_A1",
                            "ssh_key_thumbprint": "E219928EDDE748FAA2F86210ABD02B0C5D6D9E36",
                            "storage_service_name": "scazurestorage01",
                            "subnet": "kubemasters",
                            "username": "jonathan",
                            "vip_address": "13.92.185.132",
                            "virtual_network": "sc-r2-virtual-network"
                        }
                    }
                },
                "azure_instance.kubeminions.0": {
                    "type": "azure_instance",
                    "depends_on": [
                        "azure_security_group.kubeminions",
                        "azure_storage_service.sc-r2-storage",
                        "azure_virtual_network.sc-r2-virtual-network"
                    ],
                    "primary": {
                        "id": "sc-r2-minion-0",
                        "attributes": {
                            "automatic_updates": "false",
                            "endpoint.#": "2",
                            "endpoint.164255395.name": "Kubelet",
                            "endpoint.164255395.private_port": "10250",
                            "endpoint.164255395.protocol": "tcp",
                            "endpoint.164255395.public_port": "10250",
                            "endpoint.2462817782.name": "SSH",
                            "endpoint.2462817782.private_port": "22",
                            "endpoint.2462817782.protocol": "tcp",
                            "endpoint.2462817782.public_port": "22",
                            "hosted_service_name": "sc-r2-minion-0",
                            "id": "sc-r2-minion-0",
                            "image": "Ubuntu Server 16.04 LTS",
                            "ip_address": "172.1.2.4",
                            "location": "East US",
                            "name": "sc-r2-minion-0",
                            "reverse_dns": "",
                            "security_group": "kubeminions",
                            "size": "Basic_A1",
                            "ssh_key_thumbprint": "E219928EDDE748FAA2F86210ABD02B0C5D6D9E36",
                            "storage_service_name": "scazurestorage01",
                            "subnet": "kubeminions",
                            "username": "jonathan",
                            "vip_address": "40.121.136.39",
                            "virtual_network": "sc-r2-virtual-network"
                        }
                    }
                },
                "azure_instance.kubeminions.1": {
                    "type": "azure_instance",
                    "depends_on": [
                        "azure_security_group.kubeminions",
                        "azure_storage_service.sc-r2-storage",
                        "azure_virtual_network.sc-r2-virtual-network"
                    ],
                    "primary": {
                        "id": "sc-r2-minion-1",
                        "attributes": {
                            "automatic_updates": "false",
                            "endpoint.#": "2",
                            "endpoint.164255395.name": "Kubelet",
                            "endpoint.164255395.private_port": "10250",
                            "endpoint.164255395.protocol": "tcp",
                            "endpoint.164255395.public_port": "10250",
                            "endpoint.2462817782.name": "SSH",
                            "endpoint.2462817782.private_port": "22",
                            "endpoint.2462817782.protocol": "tcp",
                            "endpoint.2462817782.public_port": "22",
                            "hosted_service_name": "sc-r2-minion-1",
                            "id": "sc-r2-minion-1",
                            "image": "Ubuntu Server 16.04 LTS",
                            "ip_address": "172.1.2.5",
                            "location": "East US",
                            "name": "sc-r2-minion-1",
                            "reverse_dns": "",
                            "security_group": "kubeminions",
                            "size": "Basic_A1",
                            "ssh_key_thumbprint": "E219928EDDE748FAA2F86210ABD02B0C5D6D9E36",
                            "storage_service_name": "scazurestorage01",
                            "subnet": "kubeminions",
                            "username": "jonathan",
                            "vip_address": "40.121.143.119",
                            "virtual_network": "sc-r2-virtual-network"
                        }
                    }
                },
                "azure_instance.nat": {
                    "type": "azure_instance",
                    "depends_on": [
                        "azure_security_group.nat",
                        "azure_storage_service.sc-r2-storage",
                        "azure_virtual_network.sc-r2-virtual-network"
                    ],
                    "primary": {
                        "id": "sc-r2-nat",
                        "attributes": {
                            "automatic_updates": "false",
                            "endpoint.#": "2",
                            "endpoint.1736569060.name": "HTTP",
                            "endpoint.1736569060.private_port": "80",
                            "endpoint.1736569060.protocol": "tcp",
                            "endpoint.1736569060.public_port": "80",
                            "endpoint.2462817782.name": "SSH",
                            "endpoint.2462817782.private_port": "22",
                            "endpoint.2462817782.protocol": "tcp",
                            "endpoint.2462817782.public_port": "22",
                            "hosted_service_name": "sc-r2-nat",
                            "id": "sc-r2-nat",
                            "image": "Ubuntu Server 16.04 LTS",
                            "ip_address": "172.1.3.5",
                            "location": "East US",
                            "name": "sc-r2-nat",
                            "reverse_dns": "",
                            "security_group": "nat",
                            "size": "Basic_A0",
                            "ssh_key_thumbprint": "E219928EDDE748FAA2F86210ABD02B0C5D6D9E36",
                            "storage_service_name": "scazurestorage01",
                            "subnet": "nat",
                            "username": "jonathan",
                            "vip_address": "40.87.56.72",
                            "virtual_network": "sc-r2-virtual-network"
                        }
                    }
                },
                "azure_security_group.kubemaster": {
                    "type": "azure_security_group",
                    "primary": {
                        "id": "kubemaster",
                        "attributes": {
                            "id": "kubemaster",
                            "label": "kubemaster",
                            "location": "East US",
                            "name": "kubemaster"
                        }
                    }
                },
                "azure_security_group.kubeminions": {
                    "type": "azure_security_group",
                    "primary": {
                        "id": "kubeminions",
                        "attributes": {
                            "id": "kubeminions",
                            "label": "kubeminions",
                            "location": "East US",
                            "name": "kubeminions"
                        }
                    }
                },
                "azure_security_group.nat": {
                    "type": "azure_security_group",
                    "primary": {
                        "id": "nat",
                        "attributes": {
                            "id": "nat",
                            "label": "nat",
                            "location": "East US",
                            "name": "nat"
                        }
                    }
                },
                "azure_security_group_rule.flask": {
                    "type": "azure_security_group_rule",
                    "depends_on": [
                        "azure_security_group.nat"
                    ],
                    "primary": {
                        "id": "flask-access-rule",
                        "attributes": {
                            "action": "Allow",
                            "destination_address_prefix": "172.1.3.0/24",
                            "destination_port_range": "5000",
                            "id": "flask-access-rule",
                            "name": "flask-access-rule",
                            "priority": "301",
                            "protocol": "TCP",
                            "security_group_names.#": "1",
                            "security_group_names.2525417723": "nat",
                            "source_address_prefix": "*",
                            "source_port_range": "*",
                            "type": "Inbound"
                        }
                    }
                },
                "azure_security_group_rule.http": {
                    "type": "azure_security_group_rule",
                    "depends_on": [
                        "azure_security_group.nat"
                    ],
                    "primary": {
                        "id": "http-access-rule",
                        "attributes": {
                            "action": "Allow",
                            "destination_address_prefix": "172.1.3.0/24",
                            "destination_port_range": "80",
                            "id": "http-access-rule",
                            "name": "http-access-rule",
                            "priority": "200",
                            "protocol": "TCP",
                            "security_group_names.#": "1",
                            "security_group_names.2525417723": "nat",
                            "source_address_prefix": "*",
                            "source_port_range": "*",
                            "type": "Inbound"
                        }
                    }
                },
                "azure_security_group_rule.kube": {
                    "type": "azure_security_group_rule",
                    "depends_on": [
                        "azure_security_group.kubemaster"
                    ],
                    "primary": {
                        "id": "kube-access-rule",
                        "attributes": {
                            "action": "Allow",
                            "destination_address_prefix": "172.1.1.0/24",
                            "destination_port_range": "8080",
                            "id": "kube-access-rule",
                            "name": "kube-access-rule",
                            "priority": "200",
                            "protocol": "TCP",
                            "security_group_names.#": "1",
                            "security_group_names.2805127066": "kubemaster",
                            "source_address_prefix": "*",
                            "source_port_range": "*",
                            "type": "Inbound"
                        }
                    }
                },
                "azure_security_group_rule.kubemaster_inbound": {
                    "type": "azure_security_group_rule",
                    "depends_on": [
                        "azure_security_group.kubemaster"
                    ],
                    "primary": {
                        "id": "kubemaster_inbound-cluster-access-rule",
                        "attributes": {
                            "action": "Allow",
                            "destination_address_prefix": "172.1.1.0/24",
                            "destination_port_range": "*",
                            "id": "kubemaster_inbound-cluster-access-rule",
                            "name": "kubemaster_inbound-cluster-access-rule",
                            "priority": "203",
                            "protocol": "*",
                            "security_group_names.#": "1",
                            "security_group_names.2805127066": "kubemaster",
                            "source_address_prefix": "172.1.2.0/24",
                            "source_port_range": "*",
                            "type": "Inbound"
                        }
                    }
                },
                "azure_security_group_rule.kubemaster_outbound": {
                    "type": "azure_security_group_rule",
                    "depends_on": [
                        "azure_security_group.kubemaster"
                    ],
                    "primary": {
                        "id": "kubemaster_outbound-cluster-access-rule",
                        "attributes": {
                            "action": "Allow",
                            "destination_address_prefix": "172.1.1.0/24",
                            "destination_port_range": "*",
                            "id": "kubemaster_outbound-cluster-access-rule",
                            "name": "kubemaster_outbound-cluster-access-rule",
                            "priority": "204",
                            "protocol": "*",
                            "security_group_names.#": "1",
                            "security_group_names.2805127066": "kubemaster",
                            "source_address_prefix": "172.1.2.0/24",
                            "source_port_range": "*",
                            "type": "Outbound"
                        }
                    }
                },
                "azure_security_group_rule.kubemaster_ssh": {
                    "type": "azure_security_group_rule",
                    "depends_on": [
                        "azure_security_group.kubemaster"
                    ],
                    "primary": {
                        "id": "masters_ssh-access-rule",
                        "attributes": {
                            "action": "Allow",
                            "destination_address_prefix": "172.1.1.0/24",
                            "destination_port_range": "22",
                            "id": "masters_ssh-access-rule",
                            "name": "masters_ssh-access-rule",
                            "priority": "201",
                            "protocol": "TCP",
                            "security_group_names.#": "1",
                            "security_group_names.2805127066": "kubemaster",
                            "source_address_prefix": "172.1.3.0/24",
                            "source_port_range": "*",
                            "type": "Inbound"
                        }
                    }
                },
                "azure_security_group_rule.kubeminions_inbound": {
                    "type": "azure_security_group_rule",
                    "depends_on": [
                        "azure_security_group.kubeminions"
                    ],
                    "primary": {
                        "id": "kubeminions_cluster-access-rule",
                        "attributes": {
                            "action": "Allow",
                            "destination_address_prefix": "172.1.2.0/24",
                            "destination_port_range": "*",
                            "id": "kubeminions_cluster-access-rule",
                            "name": "kubeminions_cluster-access-rule",
                            "priority": "207",
                            "protocol": "*",
                            "security_group_names.#": "1",
                            "security_group_names.918749457": "kubeminions",
                            "source_address_prefix": "172.1.1.0/24",
                            "source_port_range": "*",
                            "type": "Inbound"
                        }
                    }
                },
                "azure_security_group_rule.kubeminions_outbound": {
                    "type": "azure_security_group_rule",
                    "depends_on": [
                        "azure_security_group.kubeminions"
                    ],
                    "primary": {
                        "id": "kubeminions_cluster-access-rule",
                        "attributes": {
                            "action": "Allow",
                            "destination_address_prefix": "172.1.2.0/24",
                            "destination_port_range": "*",
                            "id": "kubeminions_cluster-access-rule",
                            "name": "kubeminions_cluster-access-rule",
                            "priority": "208",
                            "protocol": "*",
                            "security_group_names.#": "1",
                            "security_group_names.918749457": "kubeminions",
                            "source_address_prefix": "172.1.1.0/24",
                            "source_port_range": "*",
                            "type": "Outbound"
                        }
                    }
                },
                "azure_security_group_rule.kubeminions_ssh": {
                    "type": "azure_security_group_rule",
                    "depends_on": [
                        "azure_security_group.kubeminions"
                    ],
                    "primary": {
                        "id": "minions_ssh-access-rule",
                        "attributes": {
                            "action": "Allow",
                            "destination_address_prefix": "172.1.2.0/24",
                            "destination_port_range": "22",
                            "id": "minions_ssh-access-rule",
                            "name": "minions_ssh-access-rule",
                            "priority": "202",
                            "protocol": "TCP",
                            "security_group_names.#": "1",
                            "security_group_names.918749457": "kubeminions",
                            "source_address_prefix": "172.1.3.0/24",
                            "source_port_range": "*",
                            "type": "Inbound"
                        }
                    }
                },
                "azure_security_group_rule.nat_ssh": {
                    "type": "azure_security_group_rule",
                    "depends_on": [
                        "azure_security_group.nat"
                    ],
                    "primary": {
                        "id": "nat_ssh-access-rule",
                        "attributes": {
                            "action": "Allow",
                            "destination_address_prefix": "172.1.3.0/24",
                            "destination_port_range": "22",
                            "id": "nat_ssh-access-rule",
                            "name": "nat_ssh-access-rule",
                            "priority": "201",
                            "protocol": "TCP",
                            "security_group_names.#": "1",
                            "security_group_names.2525417723": "nat",
                            "source_address_prefix": "*",
                            "source_port_range": "*",
                            "type": "Inbound"
                        }
                    }
                },
                "azure_storage_service.sc-r2-storage": {
                    "type": "azure_storage_service",
                    "primary": {
                        "id": "scazurestorage01",
                        "attributes": {
                            "account_type": "Standard_LRS",
                            "description": "Made by Terraform.",
                            "id": "scazurestorage01",
                            "label": "Made by Terraform.",
                            "location": "East US",
                            "name": "scazurestorage01",
                            "primary_key": "gmQonf/2qjrj85+PUe/L0xA1MCfiXfdIi9eMCJ1O86n8dSFOlicCJFp3T0UkYqcFlIeatXLAqA9pyNqGiupQgg==",
                            "secondary_key": "qYpV2wGjXD8SnJn+gMWxsG0mP/dtxntpGwO/fmkunZ5PsnwyJ/mX2cmgLlpiMNc2RkSrikagawZ8pRhDpG0wqQ==",
                            "url": "https://management.core.windows.net/4504998e-60a7-40f0-a0e0-d125d4208f7a/services/storageservices/scazurestorage01"
                        }
                    }
                },
                "azure_virtual_network.sc-r2-virtual-network": {
                    "type": "azure_virtual_network",
                    "primary": {
                        "id": "sc-r2-virtual-network",
                        "attributes": {
                            "address_space.#": "1",
                            "address_space.0": "172.1.0.0/16",
                            "id": "sc-r2-virtual-network",
                            "location": "East US",
                            "name": "sc-r2-virtual-network",
                            "subnet.#": "3",
                            "subnet.2605516300.address_prefix": "172.1.3.0/24",
                            "subnet.2605516300.name": "nat",
                            "subnet.2605516300.security_group": "nat",
                            "subnet.3612099365.address_prefix": "172.1.1.0/24",
                            "subnet.3612099365.name": "kubemasters",
                            "subnet.3612099365.security_group": "kubemaster",
                            "subnet.3712019141.address_prefix": "172.1.2.0/24",
                            "subnet.3712019141.name": "kubeminions",
                            "subnet.3712019141.security_group": "kubeminions"
                        }
                    }
                },
                "cloudflare_record.wildcard": {
                    "type": "cloudflare_record",
                    "depends_on": [
                        "azure_instance.ingresscontroller"
                    ],
                    "primary": {
                        "id": "3d95decf96202f7a8763b49785988530",
                        "attributes": {
                            "domain": "saharacluster.com",
                            "hostname": "*.saharacluster.com",
                            "id": "3d95decf96202f7a8763b49785988530",
                            "name": "*",
                            "priority": "0",
                            "proxied": "false",
                            "ttl": "1",
                            "type": "A",
                            "value": "40.117.238.136",
                            "zone_id": "62faeabd0a74058eb3bb93d93f6bdebb"
                        }
                    }
                }
            }
        }
    ]
}
